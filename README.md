# Chapter3 使用wow api创建一个Helloworld模块
>	让我们开始吧。你已经在第二章节当中见识了一些lua示例，所以编写一个helloworld模块对你来说应当不成问题。但是第一个示例模
	块仅仅是展示出"hello,world."。它将由两个斜杠命令组成: /hwadd <id> <text>和/hwshow <id>.前一条指令将字符串存
	放在table当中，后者将这段存放在id下的字符串输出至对话管道。奸商可能认为这个插件唯一的作用就是散布一些交易广告，它让你
	使用一个宏发送一大堆的文字。另一个用途在于事先使用一个简单的宏存储一些boss战或者竞技场当中需要使用到的指令，然后在raid
	或者竞技场当中使用它们。让我们在游戏当中运行一段lua脚本。

## 在wow里运行一个helloworld
>	运行一个类似于我们刚刚创建的脚本，只需要在命令行当中输入以下斜杠命令    
	`/script print("hello,world!")`    
	`/script <text>`命令将文本<text>编译成一个新的代码块然后执行它。
---
    NOTE: 一个chunk就是一段lua代码拥有独立的作用域。所以如果你再 /script 命令当中定义变量的是一个局部变量，
    该变量在其他的/script 命令当中是不可见的。

---
>	你已经了解了print函数，不过这里和标准lua有一些小的区别。WOW将输出默认输出在对话框而非计算机当中的标准输出。所以
	helloworld将在你的对话框当中进行呈现。就这么简单？是的，最基本的脚本就是这样。不过这是一个最简单的宏风格的脚本，并且
	我向你保证你将会学会如何编写wow的插件，那么让我们编写一个真正的插件。刚才的这个实例只是像你展示在wow当中的lua和普通
	的lua并没有什么区别。现在我们可以开始创建一个lua脚本，作为一个真正的插件在游戏启动时被加载。

## 我们第一个wow插件

>	让我们开始创建在本章节开始的时候描述的那个插件。在我们开始创建这个插件之前，我们首先需要明确我们要将我们的lua文件放在哪里。

### 文件夹的结构

>	可能你已经知道将插件放入魔兽世界 *Interface\AddOns*文件夹使之生效。这个文件夹所在绝对路径可能为
	*C:\Program Files\World of Warcraft\Interface\AddOns*。让我们在该路径下创建一个HelloWorld文件夹。在这里存放
	所有我们HelloWorld插件所需要的所有文件。你是否注意到AddOns文件夹下有各式各样后缀的文件？哪一种文件类型是被插件所使用
	的？魔兽世界提供一些api用于处理如下类型的文件:lua脚本(.lua)，XML(数据定义语言，你将会在第五章节学习它们)，图片相关的
	文件(.tga和.blp),音频文件(.wav和.mp3),字体文件(.ttf)和3d模型(.m2)。你可以在自己的插件中使用所有魔兽世界客户端所
	自带的以上资源文件，包括背景音乐，文本，图片，模型等等。如果这些还不能使你满足，你还可以提供数据自己的声音，图片等等文件
	在插件中。魔兽世界API提供了一个虚拟的文件系统，让你可以像使用本地文件一样使用远程的文件。这允许你使用所有的Interface
	文件夹下的文件以及MPQ包当中的资源文件。

---
    NOTE: MPQ是一种暴雪游戏的文件格式。可以将它想象成一个zip压缩包。你将在后续的章节了解更多有关于MPQ包的内容
---
>	虚拟文件系统在你启动客户端的时候创建，所以在你重启它之前，是无法识别新的文件的。无论何时你添加了新的文件，你必须重启
    游戏；简单的重新加载你的插件(使用 /reload 或者 /script ReloadUI())无法是新增的文件生效。
	MPQ包同样包含了一些lua和用于定义默认UI的xml文件。整个游戏当中的UI都是通过类似lua插件的形式编写的。在本章节晚些时候
	你将了解到如何查看这些默认UI的代码。在编写插件时，所有的文件路径都采用相对于魔兽世界根目录的路径，并且MPQ包当中的文件将
	被映射至魔兽世界根目录。你无法访问魔兽世界根目录以外的任何文件。所以一个音频文件的路径可以如下所示:

>	*Interface\AddOns\yourMod\sounds\something.mp3*  
	或者这样:  
	*Sound\Creature\Illidan\BLACK_Illidan_04.wav*

>	以上第一个音频文件存放在了插件所在路径，第二个音频文件是存放在MPQ包*expansion-speech-locale.mpq*当中。(在后面的
    章节当中你将会学习到如何浏览和解压MPQ包当中的文件)播放一段音乐是一个很好的有关于使用文件路径的示例，那么我们赶紧尝试一下。
    魔兽世界提供了一个函数供我们根据文件路径进行音乐播放:*PlaySoundFile(file)*。使用以下命令尝试一下:

